schema: '2.0'
stages:
  data-ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: a6c7b126a6746b1dbc6db7d7c3fbb24e
      size: 1869
    outs:
    - path: data/raw
      hash: md5
      md5: 276713532b336befc629d49e380b26f8.dir
      size: 898689
      nfiles: 2
  data-cleaning:
    cmd: python src/data/clean_dataset.py
    deps:
    - path: data/raw
      hash: md5
      md5: 276713532b336befc629d49e380b26f8.dir
      size: 898689
      nfiles: 2
    - path: src/data/clean_dataset.py
      hash: md5
      md5: 5d640ea0bd33c71fbf410351274ce533
      size: 10914
    outs:
    - path: data/cleaned
      hash: md5
      md5: 94ef9b087051223ba024ab633d642848.dir
      size: 917282
      nfiles: 2
  feature-selection:
    cmd: python src/features/build_features.py
    deps:
    - path: data/cleaned
      hash: md5
      md5: 94ef9b087051223ba024ab633d642848.dir
      size: 917282
      nfiles: 2
    - path: src/features/build_features.py
      hash: md5
      md5: 1df0bb38abe52db13cfab489aa1a7adb
      size: 4812
    outs:
    - path: data/interim
      hash: md5
      md5: 6833397e799226b59ed50831e48a35d2.dir
      size: 164685
      nfiles: 1
  data-preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/interim
      hash: md5
      md5: 6833397e799226b59ed50831e48a35d2.dir
      size: 164685
      nfiles: 1
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 5f91f4ed6669b37638267fcb32f386bb
      size: 5622
    outs:
    - path: data/processed
      hash: md5
      md5: b14d5b380868c635680633d05c4fe3f9.dir
      size: 4292602
      nfiles: 3
  model-training:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed
      hash: md5
      md5: b14d5b380868c635680633d05c4fe3f9.dir
      size: 4292602
      nfiles: 3
    - path: src/models/train_model.py
      hash: md5
      md5: 493283bde9f54c2a3636bc9ee3b5f2fc
      size: 3543
    params:
      params.yaml:
        model-training.random_state: 42
        model-training.test_size: 0.2
    outs:
    - path: models
      hash: md5
      md5: 9a54d0f7d6db2a9f62238239b89fd970.dir
      size: 2639372
      nfiles: 1
  model-evaluation:
    cmd: python src/models/evaluate_model.py
    deps:
    - path: models
      hash: md5
      md5: 9a54d0f7d6db2a9f62238239b89fd970.dir
      size: 2639372
      nfiles: 1
    - path: src/models/evaluate_model.py
      hash: md5
      md5: 5b960bfa97f9aa535f5ba4e2f0e92a0d
      size: 4799
    outs:
    - path: reports/evaluation_metrics.json
      hash: md5
      md5: cefb2838972d01d3c983965729b3c8f3
      size: 134
    - path: reports/experiment_info.json
      hash: md5
      md5: 0ff805f56100214cb04b2155d9e4f73b
      size: 154
  model-register:
    cmd: python src/models/register_model.py
    deps:
    - path: reports/experiment_info.json
      hash: md5
      md5: 0ff805f56100214cb04b2155d9e4f73b
      size: 154
    - path: src/models/register_model.py
      hash: md5
      md5: 6f9ef8b2162737ef0b95df9cf4a69e96
      size: 2105
  model-building:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed
      hash: md5
      md5: b14d5b380868c635680633d05c4fe3f9.dir
      size: 4292602
      nfiles: 3
    - path: src/models/train_model.py
      hash: md5
      md5: 493283bde9f54c2a3636bc9ee3b5f2fc
      size: 3543
    params:
      params.yaml:
        model-training.random_state: 42
        model-training.test_size: 0.2
    outs:
    - path: models
      hash: md5
      md5: 9a54d0f7d6db2a9f62238239b89fd970.dir
      size: 2639372
      nfiles: 1
  recommender-system-building:
    cmd: python src/recommender_system/distance_based_recommender_system.py && python
      src/recommender_system/attribute_based_recommender_system.py && python src/recommender_system/facility_based_recommender_system.py
    deps:
    - path: reports/experiment_info.json
      hash: md5
      md5: 0ff805f56100214cb04b2155d9e4f73b
      size: 154
    - path: src/recommender_system/attribute_based_recommender_system.py
      hash: md5
      md5: a3fc4fcbba8f39dc2a3e64d6e0c1beef
      size: 7650
    - path: src/recommender_system/distance_based_recommender_system.py
      hash: md5
      md5: ae38fee98bd5be1f4c1cdc1164a857f5
      size: 4915
    - path: src/recommender_system/facility_based_recommender_system.py
      hash: md5
      md5: 5e619c7f241816cace74e01cd70a1c30
      size: 4705
    outs:
    - path: recommender_systems
      hash: md5
      md5: 7bb969c25624a57ac23f30fbb5bb10da.dir
      size: 3598239
      nfiles: 4
